{"version":3,"file":"static/js/movies-page.57b040bc.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesListItem/MoviesListItem.module.css?c6de","components/MoviesList/MoviesListItem/MoviesListItem.jsx","webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://goit-react-hw-05-movies/./src/components/SearchMovieForm/SearchMovieForm.module.css?dfe9","components/SearchMovieForm/SearchMovieForm.jsx","pages/MoviesPage/MoviesPage.jsx","services/movies-api.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"MoviesListItem_item__ovKV+\",\"link\":\"MoviesListItem_link__c0Ngz\",\"title\":\"MoviesListItem_title__Dn+pw\",\"img\":\"MoviesListItem_img__vtULT\",\"thumb\":\"MoviesListItem_thumb__Xc6jM\",\"meta\":\"MoviesListItem_meta__TGv+4\"};","import { NavLink, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styles from './MoviesListItem.module.css';\n\nimport noImage from '../../Img/no-image.png';\n\nconst MoviesListItem = ({ id, title, img }) => {\n  const location = useLocation();\n\n  return (\n    <li className={styles.item}>\n      <NavLink\n        to={`/movies/${id}`}\n        state={{ from: location }}\n        className={styles.link}\n      >\n        <div className={styles.thumb}>\n          <img\n            src={img ? `https://image.tmdb.org/t/p/w500/${img}` : noImage}\n            alt={title}\n            className={styles.img}\n          />\n        </div>\n        <div className={styles.meta}>\n          <h3 className={styles.title}>{title}</h3>\n        </div>\n      </NavLink>\n    </li>\n  );\n};\n\nMoviesListItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  img: PropTypes.string.isRequired,\n};\n\nexport default MoviesListItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesList_list__0Owr9\"};","import PropTypes from 'prop-types';\nimport styles from './MoviesList.module.css';\n\nconst MoviesList = ({ children }) => {\n  return <ul className={styles.list}>{children}</ul>;\n};\n\nMoviesList.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"searchBar\":\"SearchMovieForm_searchBar__vpbas\",\"form\":\"SearchMovieForm_form__sVLhq\",\"button\":\"SearchMovieForm_button__N7tZi\",\"input\":\"SearchMovieForm_input__sdVX9\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { BsSearch } from 'react-icons/bs';\nimport styles from './SearchMovieForm.module.css';\n\nconst SearchMovieForm = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handleSearchQuery = e => {\n    const searchQuery = e.target.value.trim().toLowerCase();\n\n    setQuery(searchQuery);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    onSubmit(query);\n\n    setQuery(' ');\n  };\n\n  return (\n    <div className={styles.searchBar}>\n      <form className={styles.form}>\n        <button type=\"submit\" className={styles.button} onClick={handleSubmit}>\n          <span className={styles.label}>\n            <BsSearch size={24} />\n          </span>\n        </button>\n\n        <input\n          className={styles.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          name=\"searchQuery\"\n          placeholder=\"Search movies\"\n          value={query}\n          onChange={handleSearchQuery}\n        />\n      </form>\n    </div>\n  );\n};\n\nSearchMovieForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchMovieForm;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport * as moviesApi from '../../services/movies-api';\nimport SearchMovieForm from 'components/SearchMovieForm';\n\nimport MoviesList from 'components/MoviesList';\nimport MoviesListItem from 'components/MoviesList/MoviesListItem';\nimport Loader from 'components/Loader/Loader';\n\nexport default function Moviespage() {\n  let [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState([]);\n  const [status, setStatus] = useState('idle');\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    async function fetchSearchMovies() {\n      try {\n        setStatus('pending');\n\n        await moviesApi.fetchSearchMovies(query).then(data => {\n          const getData = data.results;\n\n          if (getData.length === 0) {\n            setStatus('error');\n          } else {\n            setMovies(getData);\n          }\n        });\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setStatus('resolved');\n      }\n    }\n\n    if (query !== null) {\n      fetchSearchMovies();\n    }\n  }, [query]);\n\n  const handleFormSubmit = searchQuery => {\n    setSearchParams({ query: searchQuery });\n    setMovies([]);\n  };\n\n  return (\n    <>\n      <SearchMovieForm onSubmit={handleFormSubmit} />\n\n      {status === 'pending' && <Loader />}\n\n      {status === 'resolved' && (\n        <MoviesList>\n          {movies.map(movie => (\n            <MoviesListItem\n              key={movie.id}\n              title={movie.title}\n              id={movie.id}\n              img={movie.poster_path}\n            />\n          ))}\n        </MoviesList>\n      )}\n    </>\n  );\n}\n","const axios = require('axios');\nconst API_KEY = 'b8ac79d8f7dac57cb589d169a879527b';\nconst BASE_URL = `https://api.themoviedb.org/3`;\n\nasync function moviesApi(url = '', config = {}) {\n  const response = await axios.get(url, config);\n  const data = await response.data;\n\n  return data;\n}\n\nexport function fetchTrendingMovies() {\n  return moviesApi(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`);\n}\n\nexport function fetchMovieDetails(movieId) {\n  return moviesApi(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`);\n}\n\nexport function fetchMovieCast(movieId) {\n  return moviesApi(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n}\n\nexport function fetchMovieReviews(movieId) {\n  return moviesApi(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n}\n\nexport function fetchSearchMovies(query) {\n  return moviesApi(\n    `${BASE_URL}/search/movie/?api_key=${API_KEY}&query=${query}&language=en-US&page=1&include_adult=false`\n  );\n}\n"],"names":["id","title","img","location","useLocation","className","styles","to","state","from","src","noImage","alt","children","onSubmit","useState","query","setQuery","type","onClick","e","preventDefault","size","autoComplete","autoFocus","name","placeholder","value","onChange","searchQuery","target","trim","toLowerCase","Moviespage","useSearchParams","searchParams","setSearchParams","movies","setMovies","status","setStatus","get","useEffect","moviesApi","then","data","getData","results","length","console","log","fetchSearchMovies","Loader","MoviesList","map","movie","MoviesListItem","poster_path","axios","require","API_KEY","BASE_URL","url","config","response","fetchTrendingMovies","fetchMovieDetails","movieId","fetchMovieCast","fetchMovieReviews"],"sourceRoot":""}