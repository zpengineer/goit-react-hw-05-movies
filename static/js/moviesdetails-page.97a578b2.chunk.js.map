{"version":3,"file":"static/js/moviesdetails-page.97a578b2.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetailsPage/MovieDetailsPage.module.css?9108","pages/MovieDetailsPage/MovieDetailsPage.jsx","services/movies-api.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetailsPage_container__fntPy\",\"wrapper\":\"MovieDetailsPage_wrapper__TH-Xi\",\"goBack\":\"MovieDetailsPage_goBack__rkYUh\",\"movieInfo\":\"MovieDetailsPage_movieInfo__RVh2B\",\"thumb\":\"MovieDetailsPage_thumb__o1cFi\",\"movieMeta\":\"MovieDetailsPage_movieMeta__Mc9aj\",\"img\":\"MovieDetailsPage_img__+Nbrw\",\"title\":\"MovieDetailsPage_title__63V3V\",\"text\":\"MovieDetailsPage_text__vp0Sm\",\"score\":\"MovieDetailsPage_score__zCRy6\",\"overview\":\"MovieDetailsPage_overview__Cg22i\",\"genresList\":\"MovieDetailsPage_genresList__FrG+a\",\"genresItem\":\"MovieDetailsPage_genresItem__a90NF\",\"linksList\":\"MovieDetailsPage_linksList__yvm3Z\",\"linkItem\":\"MovieDetailsPage_linkItem__f9ggs\",\"infoTitle\":\"MovieDetailsPage_infoTitle__KCuyM\",\"additionalInfo\":\"MovieDetailsPage_additionalInfo__MR4+w\",\"link\":\"MovieDetailsPage_link__rhdjc\",\"button\":\"MovieDetailsPage_button__mSHH6\"};","import { useState, useEffect, lazy, Suspense } from 'react';\nimport {\n  Link,\n  Route,\n  Routes,\n  useLocation,\n  useNavigate,\n} from 'react-router-dom';\nimport { useParams } from 'react-router-dom';\nimport { BsFillArrowLeftCircleFill } from 'react-icons/bs';\nimport * as moviesApi from '../../services/movies-api';\nimport Loader from 'components/Loader/Loader';\nimport noImage from '../../components/Img/no-image.png';\nimport styles from './MovieDetailsPage.module.css';\n\nconst Cast = lazy(() => import('../Cast' /* webpackChunkName: \"cast-page\" */));\nconst Reviews = lazy(() =>\n  import('../Reviews' /* webpackChunkName: \"reviews-page\" */)\n);\n\nexport default function MovieDetailsPage() {\n  const [movie, setMovie] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const { movieId } = useParams();\n\n  const location = useLocation();\n  let navigate = useNavigate();\n\n  useEffect(() => {\n    async function fetchMovieDetails() {\n      try {\n        setStatus('pending');\n\n        await moviesApi.fetchMovieDetails(movieId).then(data => {\n          setMovie(data);\n        });\n      } catch {\n        setStatus('error');\n      } finally {\n        setStatus('resolved');\n      }\n    }\n\n    if (movieId) {\n      fetchMovieDetails();\n    }\n  }, [movieId]);\n\n  const goBack = () => {\n    navigate(-1);\n  };\n\n  return (\n    <>\n      {status === 'pending' && <Loader />}\n\n      {status === 'resolved' && (\n        <>\n          <div className={styles.container}>\n            <div className={styles.goBack}>\n              <button type=\"button\" onClick={goBack} className={styles.button}>\n                <BsFillArrowLeftCircleFill size={36} />\n              </button>\n            </div>\n\n            <div className={styles.wrapper}>\n              <div className={styles.movieInfo}>\n                <div className={styles.thumb}>\n                  <img\n                    src={\n                      movie.poster_path\n                        ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n                        : noImage\n                    }\n                    alt={movie.title}\n                    className={styles.img}\n                  />\n                </div>\n\n                <div className={styles.movieMeta}>\n                  <h2 className={styles.title}>{movie.title}</h2>\n\n                  <p className={styles.text}>\n                    User score:{' '}\n                    <span className={styles.score}>\n                      {movie.vote_average * 10}%\n                    </span>\n                  </p>\n\n                  <p className={styles.text}>Overview:</p>\n\n                  <p className={styles.overview}>{movie.overview}</p>\n\n                  <p className={styles.text}>Genres:</p>\n\n                  <ul className={styles.genresList}>\n                    {movie.genres.map(genre => (\n                      <li key={genre.id} className={styles.genresItem}>\n                        {genre.name}\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              </div>\n\n              <div className={styles.additionalInfo}>\n                <p className={styles.infoTitle}>Additional information</p>\n\n                <ul className={styles.linksList}>\n                  <li className={styles.linkItem}>\n                    <Link\n                      to=\"cast\"\n                      state={{ from: location }}\n                      className={styles.link}\n                    >\n                      Cast\n                    </Link>\n                  </li>\n\n                  <li className={styles.linkItem}>\n                    <Link\n                      to=\"reviews\"\n                      state={{ from: location }}\n                      className={styles.link}\n                    >\n                      Reviews\n                    </Link>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n\n          <Suspense fallback={<Loader />}>\n            <Routes>\n              <Route path=\"cast\" element={<Cast />} />\n              <Route path=\"reviews\" element={<Reviews />} />\n            </Routes>\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n}\n","const axios = require('axios');\nconst API_KEY = 'b8ac79d8f7dac57cb589d169a879527b';\nconst BASE_URL = `https://api.themoviedb.org/3`;\n\nasync function moviesApi(url = '', config = {}) {\n  const response = await axios.get(url, config);\n  const data = await response.data;\n\n  return data;\n}\n\nexport function fetchTrendingMovies() {\n  return moviesApi(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`);\n}\n\nexport function fetchMovieDetails(movieId) {\n  return moviesApi(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`);\n}\n\nexport function fetchMovieCast(movieId) {\n  return moviesApi(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n}\n\nexport function fetchMovieReviews(movieId) {\n  return moviesApi(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n}\n\nexport function fetchSearchMovies(query) {\n  return moviesApi(\n    `${BASE_URL}/search/movie/?api_key=${API_KEY}&query=${query}&language=en-US&page=1&include_adult=false`\n  );\n}\n"],"names":["Cast","lazy","Reviews","MovieDetailsPage","useState","movie","setMovie","status","setStatus","movieId","useParams","location","useLocation","navigate","useNavigate","useEffect","moviesApi","then","data","fetchMovieDetails","Loader","className","styles","type","onClick","size","src","poster_path","noImage","alt","title","vote_average","overview","genres","map","genre","name","id","to","state","from","Suspense","fallback","path","element","axios","require","API_KEY","BASE_URL","url","config","get","response","fetchTrendingMovies","fetchMovieCast","fetchMovieReviews","fetchSearchMovies","query"],"sourceRoot":""}